<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Tiara ‚ù§Ô∏è</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<style>
:root{
  --bg1:#ffd6e7;
  --bg2:#ffeef6;
  --card:#ffffffee;
  --pink:#ff3b7a;
  --pinkHover:#ff1f68;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:system-ui,sans-serif;
  height:100vh;
  overflow:hidden;
  background:#0f0f14;
  color:white;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* SCREENS */
.screen{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:20px;
  transition:.6s ease;
}

.hidden{
  opacity:0;
  pointer-events:none;
}

.card{
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(12px);
  padding:32px;
  border-radius:24px;
  width:min(700px,90vw);
  box-shadow:0 20px 60px rgba(0,0,0,.4);
}

input{
  padding:12px 16px;
  border-radius:10px;
  border:none;
  margin-bottom:16px;
  font-size:16px;
  text-align:center;
}

button{
  padding:14px 26px;
  font-size:18px;
  font-weight:700;
  border:none;
  border-radius:999px;
  cursor:pointer;
  transition:.25s ease;
}

.primary{
  background:var(--pink);
  color:white;
}

.primary:hover{
  transform:scale(1.05);
}

.countdown-big{
  font-size:80px;
  font-weight:800;
  color:var(--pink);
  text-shadow:0 0 25px rgba(255,59,122,.9);
}

/* MAIN */
.main-wrapper{
  display:none;
  min-height:100vh;
  width:100%;
  background:radial-gradient(circle at top,var(--bg2),var(--bg1));
  color:black;
  align-items:center;
  justify-content:center;
  padding:20px;
}

.main-card{
  width:min(720px,92vw);
  padding:28px 24px;
  background:var(--card);
  border-radius:22px;
  text-align:center;
  box-shadow:0 18px 60px rgba(0,0,0,.15);
}

.button-zone{
  position:relative;
  width:420px;
  height:150px;
  margin:0 auto;
}

#yesBtn{
  position:absolute;
  left:18%;
  top:50%;
  transform:translateY(-50%);
  background:var(--pink);
  color:white;
}

#yesBtn:hover{
  background:var(--pinkHover);
}

#noBtn{
  position:absolute;
  left:60%;
  top:50%;
  transform:translateY(-50%);
  background:#e5e7eb;
}

.result{
  display:none;
  margin-top:20px;
  max-height:60vh;
  overflow:auto;
}

.photo-wrapper{
  margin-bottom:24px;
}

.photo-wrapper img{
  width:230px;
  border-radius:18px;
  box-shadow:0 20px 45px rgba(0,0,0,.3);
}

.result p{
  white-space:pre-line;
  line-height:1.7;
}

.small-counter{
  margin:10px 0 20px;
  font-weight:600;
  color:var(--pink);
}

.shake{
  animation:shake .4s;
}

@keyframes shake{
  0%{transform:translateX(0)}
  25%{transform:translateX(-5px)}
  50%{transform:translateX(5px)}
  75%{transform:translateX(-5px)}
  100%{transform:translateX(0)}
}
</style>
</head>

<body>

<canvas id="confettiCanvas"></canvas>

<!-- OPENING -->
<div class="screen" id="opening">
  <div class="card">
    <h1>For someone who changed my world‚Ä¶</h1>
    <p>Tiara Fathiyah Nurrahmah</p>
    <button class="primary" onclick="goPassword()">Continue</button>
  </div>
</div>

<!-- PASSWORD -->
<div class="screen hidden" id="passwordScreen">
  <div class="card">
    <h1>Enter the date that changed everything</h1>
    <input type="text" id="passwordInput" placeholder="19 11 2024">
    <br>
    <button class="primary" onclick="checkPassword()">Unlock</button>
    <p id="errorMsg"></p>
  </div>
</div>

<!-- COUNTDOWN -->
<div class="screen hidden" id="countdownScreen">
  <div class="countdown-big" id="count">3</div>
</div>

<!-- MAIN -->
<div class="main-wrapper" id="mainWrapper">
  <div class="main-card">

    <h1 id="mainTitle">
      Tiara Fathiyah Nurrahmah,<br>
      Will you be my Valentine?
    </h1>

    <div class="button-zone" id="zone">
      <button id="yesBtn">Yes</button>
      <button id="noBtn">No</button>
    </div>

    <div class="result" id="result">

      <div class="photo-wrapper">
        <img src="the-notebook.png" alt="Us">
      </div>

      <h2 id="yesHeader" style="display:none;">She said YES ‚ù§Ô∏è</h2>

      <div class="small-counter" id="counter"></div>

      <p id="loveText"></p>

    </div>
  </div>
</div>

<script>
const opening=document.getElementById("opening");
const passwordScreen=document.getElementById("passwordScreen");
const countdownScreen=document.getElementById("countdownScreen");
const mainWrapper=document.getElementById("mainWrapper");
const countEl=document.getElementById("count");
const passwordInput=document.getElementById("passwordInput");
const errorMsg=document.getElementById("errorMsg");
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const zone=document.getElementById("zone");
const result=document.getElementById("result");
const mainTitle=document.getElementById("mainTitle");
const loveText=document.getElementById("loveText");
const counter=document.getElementById("counter");
const yesHeader=document.getElementById("yesHeader");

const confettiInstance=confetti.create(document.getElementById("confettiCanvas"),{resize:true,useWorker:true});

function goPassword(){
  opening.classList.add("hidden");
  passwordScreen.classList.remove("hidden");
}

function checkPassword(){
  if(passwordInput.value.trim()==="19 11 2024"){
    passwordScreen.classList.add("hidden");
    countdownScreen.classList.remove("hidden");
    startCountdown();
  }else{
    errorMsg.textContent="Hmm‚Ä¶ try again üí≠";
    passwordInput.classList.add("shake");
    setTimeout(()=>passwordInput.classList.remove("shake"),400);
  }
}

function startCountdown(){
  let c=3;
  const interval=setInterval(()=>{
    c--;
    countEl.textContent=c;
    if(c===0){
      clearInterval(interval);
      countdownScreen.classList.add("hidden");
      mainWrapper.style.display="flex";
    }
  },1000);
}

let yesScale=1;
function growYes(){
  if(yesScale<1.8){
    yesScale+=0.08;
    yesBtn.style.transform=`translateY(-50%) scale(${yesScale})`;
  }
}

zone.addEventListener("pointermove",e=>{
  const z=zone.getBoundingClientRect();
  const b=noBtn.getBoundingClientRect();
  const dx=(b.left+b.width/2)-e.clientX;
  const dy=(b.top+b.height/2)-e.clientY;
  if(Math.hypot(dx,dy)<120){
    noBtn.style.left=Math.random()*(z.width-b.width)+"px";
    noBtn.style.top=Math.random()*(z.height-b.height)+"px";
    noBtn.style.transform="none";
    growYes();
  }
});

function fireConfetti(){
  confettiInstance({particleCount:200,spread:120});
}

const fullText=`Tiara Fathiyah Nurrahmah üíï

I don‚Äôt even know where to start.

I never expected someone could mean this much to me.
But here you are, changing my days in the simplest ways.

You make normal moments feel special.
You make bad days feel lighter.
You make me want to be better without even trying to.

I like how you laugh.
I like how you talk about things you care about.
I like how you stay.

Being with you feels calm. It feels right.
Not dramatic. Not forced. Just real.

I‚Äôm grateful for every conversation, every joke, every small moment we share.
And if I‚Äôm being honest, I don‚Äôt want this to be temporary.

So yes, this is me choosing you.
Not just for today.
Not just because it‚Äôs Valentine‚Äôs.

I choose you because you‚Äôre you.

And if you‚Äôll let me,
I‚Äôd like to keep choosing you again and again.

Always.;

let index=0;
function typeText(){
  if(index<fullText.length){
    loveText.textContent+=fullText[index];
    index++;
    setTimeout(typeText,25);
  }
}

function updateCounter(){
  const start=new Date("November 19, 2024 00:00:00").getTime();
  const now=new Date().getTime();
  const diff=now-start;
  const days=Math.floor(diff/(1000*60*60*24));
  const hours=Math.floor((diff/(1000*60*60))%24);
  const minutes=Math.floor((diff/(1000*60))%60);
  const seconds=Math.floor((diff/1000)%60);
  counter.textContent=`Together for ${days} days ${hours} hours ${minutes} minutes ${seconds} seconds ‚ù§Ô∏è`;
}

yesBtn.addEventListener("click",()=>{
  zone.style.display="none";
  mainTitle.style.display="none";
  yesHeader.style.display="block";
  result.style.display="block";
  fireConfetti();
  typeText();
  updateCounter();
  setInterval(updateCounter,1000);
});
</script>

</body>
</html>
